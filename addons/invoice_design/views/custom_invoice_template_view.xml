<odoo>
    <data>

        <template id="custom_invoice_template">
            <t t-call="web.basic_layout">
                <t t-foreach="docs" t-as="o">

                    <table style="width:100%;border-collapse:collapse;height:100px;">
                        <tr>
                            <td style="width:10%;">
                                <img t-att-src="image_data_uri(o.company_id.logo)" style="width:200px;height:200px"/>
                            </td>
                            <td style="width:90%;">
                                <div style="
                                    background-color:#2E5496;
                                    color:white;
                                    height:25px;
                                    line-height:25px;
                                    padding-left:20px;
                                    font-weight:bold;">
                                    BNAN Programming for Information Technology
                                </div>
                            </td>
                        </tr>
                    </table>

                    <table style="width:100%;border-collapse:collapse;table-layout:fixed;height:100px;">
                        <tr>
                            <td style="width:33.33%;vertical-align:middle;">
                                <table style="border-collapse:collapse;border:1px solid black;">
                                    <tr>
                                        <td style="border:1px solid black;font-size:12px;padding:3px;background-color:#E1E1E1">
                                            Doc No.
                                        </td>
                                        <td style="border:1px solid black;font-size:12px;padding:3px">
                                            <t t-esc="o.name"/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="border:1px solid black;font-size:12px;padding:3px;background-color:#E1E1E1">
                                            Doc Date
                                        </td>
                                        <td style="border:1px solid black;font-size:12px;padding:3px">
                                            <t t-esc="o.invoice_date"/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="border:1px solid black;font-size:12px;padding:3px;background-color:#E1E1E1">
                                            Vat No.
                                        </td>
                                        <td style="border:1px solid black;font-size:12px;padding:3px">
                                            300004441600003
                                        </td>
                                    </tr>
                                </table>
                            </td>

                            <td style="width:33.33%;vertical-align:middle; text-align:center;">
                                <h2 style="font-size:17px; text-decoration:underline; font-weight:bold;">فاتورة ضريبية
                                </h2>
                                <h1 style="font-size:19px; text-decoration:underline; font-weight:bold;">TAX INVOICE
                                </h1>
                            </td>

                            <td style="width:33.33%;vertical-align:middle; text-align:right;">
                                <img t-if="o._l10n_sa_is_legal() and o.l10n_sa_qr_code_str"
                                     t-att-src="'/report/barcode/?barcode_type=%s&amp;value=%s&amp;height=%s&amp;width=%s'% ('QR', quote_plus(o.l10n_sa_qr_code_str), 100, 100)"/>
                            </td>
                        </tr>
                    </table>

                    <table>
                        <tr>
                            <td style="width:47%;vertical-align: middle;">
                                <table style="border-collapse:collapse;border:1px solid black;text-align:center;padding-right:1px">
                                    <tr>
                                        <td style="border:1px solid black;font-size:12px;padding:3px;background-color:#E1E1E1">
                                            Bill To
                                        </td>
                                        <td style="border:1px solid black;font-size:12px;padding:3px"></td>
                                        <td style="border:1px solid black;font-size:12px;padding:3px;background-color:#E1E1E1">
                                            الفاتورة الي
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="border:1px solid black;font-size:12px;padding:3px;background-color:#E1E1E1">
                                            Name
                                        </td>
                                        <td style="border:1px solid black;font-size:12px;padding:3px">
                                            <t t-esc="o.partner_id.name"/>-
                                            <t t-esc="o.partner_id.x_customer_a_name"/>
                                        </td>
                                        <td style="border:1px solid black;font-size:12px;padding:3px;background-color:#E1E1E1">
                                            الاسم
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="border:1px solid black;font-size:12px;padding:3px;background-color:#E1E1E1">
                                            Contact
                                        </td>
                                        <td style="border:1px solid black;font-size:12px;padding:3px">
                                            <t t-esc="o.partner_id.phone"/>
                                        </td>
                                        <td style="border:1px solid black;font-size:12px;padding:3px;background-color:#E1E1E1">
                                            التواصل
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="border:1px solid black;font-size:12px;padding:3px;background-color:#E1E1E1">
                                            Address
                                        </td>
                                        <td style="border:1px solid black;font-size:12px;padding:3px">
                                            <t t-esc="o.partner_id.contact_address"/>-
                                            <t t-esc="o.partner_id.x_street_a_name"/>-
                                            <t t-esc="o.partner_id.x_district_a_name"/>-
                                            <t t-esc="o.partner_id.x_city_a_name"/>-
                                            <t t-esc="o.partner_id.x_country_a_name"/>-
                                        </td>
                                        <td style="border:1px solid black;font-size:12px;padding:3px;background-color:#E1E1E1">
                                            العنوان
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="border:1px solid black;font-size:12px;padding:3px;background-color:#E1E1E1">
                                            Vat
                                        </td>
                                        <td style="border:1px solid black;font-size:12px;padding:3px">
                                            <t t-esc="o.partner_id.vat"/>
                                        </td>
                                        <td style="border:1px solid black;font-size:12px;padding:3px;background-color:#E1E1E1">
                                            الرقم الضربيبي
                                        </td>
                                    </tr>
                                </table>
                            </td>
                            <td style="width:1%;"></td>
                            <td style="width:47%;vertical-align: middle;">
                                <table style="border-collapse:collapse;border:1px solid black;text-align:center; margin-left:auto; margin-right:0;height:180px;padding-left:1px">
                                    <tr>
                                        <td style="border:1px solid black;font-size:12px;padding:3px;background-color:#E1E1E1">
                                            Ship To
                                        </td>
                                        <td style="border:1px solid black;font-size:12px;padding:3px;"></td>
                                        <td style="border:1px solid black;font-size:12px;padding:3px;background-color:#E1E1E1">
                                            الشحن الي
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="border:1px solid black;font-size:12px;padding:3px;background-color:#E1E1E1">
                                            Name
                                        </td>
                                        <td style="border:1px solid black;font-size:12px;padding:3px">
                                            <t t-esc="o.partner_id.name"/>-
                                            <t t-esc="o.partner_id.x_customer_a_name"/>
                                        </td>
                                        <td style="border:1px solid black;font-size:12px;padding:3px;background-color:#E1E1E1">
                                            الاسم
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="border:1px solid black;font-size:12px;padding:3px;background-color:#E1E1E1">
                                            Contact
                                        </td>
                                        <td style="border:1px solid black;font-size:12px;padding:3px">
                                            <t t-esc="o.partner_id.phone"/>
                                        </td>
                                        <td style="border:1px solid black;font-size:12px;padding:3px;background-color:#E1E1E1">
                                            التواصل
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="border:1px solid black;font-size:12px;padding:3px;background-color:#E1E1E1">
                                            Address
                                        </td>
                                        <td style="border:1px solid black;font-size:12px;padding:3px">
                                            <t t-esc="o.partner_id.contact_address"/>-
                                            <t t-esc="o.partner_id.x_street_a_name"/>-
                                            <t t-esc="o.partner_id.x_district_a_name"/>-
                                            <t t-esc="o.partner_id.x_city_a_name"/>-
                                            <t t-esc="o.partner_id.x_country_a_name"/>-
                                        </td>
                                        <td style="border:1px solid black;font-size:12px;padding:3px;background-color:#E1E1E1">
                                            العنوان
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    </table>

                    <h4 style="padding-top:15px;margin-bottom:5px;"></h4>

                    <table style="width:100%; border-collapse:collapse; border:1px solid black; text-align:center;">
                        <thead style="background-color:#E1E1E1">
                            <tr>
                                <th style="border:1px solid black;font-size:12px;padding:3px">Purchase order Number -
                                    رقم امر الشراء
                                </th>
                                <th style="border:1px solid black;font-size:12px;padding:3px">Customer ID - رقم العميل
                                </th>
                                <th style="border:1px solid black;font-size:12px;padding:3px">Payment Terms - شروط
                                    الدفع
                                </th>
                                <th style="border:1px solid black;font-size:12px;padding:3px">Req Ship Date - تاريخ
                                    التوريد
                                </th>
                            </tr>
                        </thead>
                        <tbody style="font-size:11px;">
                            <tr>
                                <td>
                                    <t t-esc="o.purchase_order_number"/>
                                </td>
                                <td>
                                    <t t-esc="o.partner_id.ref"/>
                                </td>
                                <td>
                                    <t t-esc="o.invoice_payment_term_id.name"/>
                                </td>
                                <td>
                                    <t t-esc="o.delivery_date"/>
                                </td>
                            </tr>
                        </tbody>
                    </table>

                    <h4 style="padding-top:15px;margin-bottom:5px;"></h4>

                    <table style="width:100%; border-collapse:collapse; border:1px solid black; text-align:center;">
                        <thead style="background-color:#E1E1E1">
                            <tr>
                                <th style="border:1px solid black;font-size:12px;padding:3px">#</th>
                                <th style="border:1px solid black;font-size:12px;padding:3px">Item and Description -
                                    الصنف
                                </th>
                                <th style="border:1px solid black;font-size:12px;padding:3px">QTY - الكمية</th>
                                <th style="border:1px solid black;font-size:12px;padding:3px">UOM - الوحدة</th>
                                <th style="border:1px solid black;font-size:12px;padding:3px">Unit Price - سعر الوحدة
                                </th>
                                <th style="border:1px solid black;font-size:12px;padding:3px">Total Price - اجمالي
                                    السعر
                                </th>
                                <th style="border:1px solid black;font-size:12px;padding:3px">Dis - الخصم</th>
                                <th style="border:1px solid black;font-size:12px;padding:3px">Total A. Disc - اجمالي بعد
                                    الخصم
                                </th>
                                <th style="border:1px solid black;font-size:12px;padding:3px">Vat% - الضريبة</th>
                                <th style="border:1px solid black;font-size:12px;padding:3px">Total With VAT - المجموع
                                    شامل الضريبة
                                </th>
                            </tr>
                        </thead>
                        <tbody style="font-size:11px;">
                            <t t-foreach="o.invoice_line_ids" t-as="line">
                                <tr>
                                    <td style="border:1px solid black; padding:3px;">
                                        <t t-esc="line_index + 1"/>
                                    </td>
                                    <td style="border:1px solid black; padding:3px;">
                                        <strong>
                                            <t t-esc="'('+line.product_id.default_code+')'"/>
                                        </strong>
                                        <br/>
                                        <t t-foreach="o.names" t-as="name">
                                            <t t-esc="name"/>
                                            <br/>
                                        </t>
                                    </td>
                                    <td style="border:1px solid black; padding:3px;">
                                        <t t-esc="'{:,.2f}'.format(line.quantity)"/>
                                    </td>
                                    <td style="border:1px solid black; padding:3px;">
                                        <t t-esc="line.product_id.uom_name"/>
                                    </td>
                                    <td style="border:1px solid black; padding:3px;">
                                        <t t-esc="'{:,.2f}'.format(line.price_unit)"/>
                                    </td>
                                    <td style="border:1px solid black; padding:3px;">
                                        <t t-esc="line.total_price_without_tax_and_discount"/>
                                    </td>
                                    <td style="border:1px solid black; padding:3px;">
                                        <t t-esc="line.discount"/>
                                    </td>
                                    <td style="border:1px solid black; padding:3px;">
                                        <t t-esc="line.total_price_after_discount"/>
                                    </td>
                                    <td style="border:1px solid black; padding:3px;">
                                        <t t-foreach="line.tax_ids" t-as="tax">
                                            <t t-esc="tax.name"/>
                                            <br/>
                                        </t>
                                    </td>
                                    <td style="border:1px solid black; padding:3px;">
                                        <t t-esc="line.price_total"/>
                                    </td>
                                </tr>
                            </t>
                        </tbody>
                    </table>

                    <h4 style="padding-top:15px;margin-bottom:5px;"></h4>

                    <table style="width:100%;">
                        <tr>
                            <td style="width:65%;"></td>

                            <td style="width:35%; vertical-align:top; text-align:left;">
                                <table style="border-collapse:collapse; border:1px solid black; text-align:center; height:180px; width:100%;">
                                    <tr>
                                        <td style="border:1px solid black; font-size:12px; padding:3px; background-color:#E1E1E1;">
                                            Subtotal - اجمالي قبل الخصم
                                        </td>
                                        <td style="border:1px solid black; font-size:12px; padding:3px; text-align:right;">
                                            <t t-esc="o.currency_id.symbol"/>
                                            <t t-esc="'{:,.2f}'.format(o.totals_before_discount)"/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="border:1px solid black; font-size:12px; padding:3px; background-color:#E1E1E1;">
                                            S.A. Dis - اجمالي بعد الخصم
                                        </td>
                                        <td style="border:1px solid black; font-size:12px; padding:3px; text-align:right;">
                                            <t t-esc="o.currency_id.symbol"/>
                                            <t t-esc="'{:,.2f}'.format(o.totals_after_discount)"/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="border:1px solid black; font-size:12px; padding:3px; background-color:#E1E1E1;">
                                            VAT Total - اجمالي الضريبة
                                        </td>
                                        <td style="border:1px solid black; font-size:12px; padding:3px; text-align:right;">
                                            <t t-esc="o.currency_id.symbol"/>
                                            <t t-esc="'{:,.2f}'.format(o.amount_tax)"/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="border:1px solid black; font-size:12px; padding:3px; background-color:#E1E1E1;">
                                            Total - الصافي شامل الضريبة
                                        </td>
                                        <td style="border:1px solid black; font-size:12px; padding:3px; text-align:right;">
                                            <t t-esc="o.currency_id.symbol"/>
                                            <t t-esc="'{:,.2f}'.format(o.amount_residual)"/>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    </table>

                    <table style="width:100%;">
                        <tr>
                            <!-- Left column: Bank details -->
                            <td style="width:70%; vertical-align: middle; font-size:12px;">
                                SR ٠٠٠٠٠٠٠٠٠٠٠٠٠٠٠٠٠٠٠٠٠٠ and ٠٠٠٠٠٠٠٠٠٠٠٠٠٠٠٠٠ halalas.
                            </td>

                            <!-- Right column: Totals table (now on the left of its column) -->
                            <td style="width:30%; vertical-align: middle;font-size:12px;">
                                .. ....... ......... ريال سعودي ........ ......... ....... هللة
                            </td>
                        </tr>
                    </table>

                    <div style="margin-top:50px;page-break-inside:avoid;">
                        <table style="width:100%;border-collapse:collapse;table-layout:fixed;height:100px;">
                            <tr>
                                <td style="width:33.33%;vertical-align:middle;font-size:12px;">
                                    <table>
                                        <tr>
                                            <td>
                                                Saudi Arabia –P. O BOX 27117 Riyadh 11417
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Phone: 966 11-417 4616</td>
                                        </tr>
                                        <tr>
                                            <td>E-mail: info@bnansa.com</td>
                                        </tr>
                                        <tr>
                                            <td>CR :1010497759 - Member Ship NO: 390128</td>
                                        </tr>
                                    </table>
                                </td>
                                <td style="width:33.33%;vertical-align:middle; text-align:center;">
                                    <img t-att-src="image_data_uri(o.company_id.logo)"
                                         style="width:125px;height:125px"/>
                                </td>
                                <td style="width:33.33%;vertical-align:middle; text-align:right;font-size:12px;">
                                    <table>
                                        <tr>
                                            <td>
                                                المملكة العربية السعودية – ص.ب 27117 الرياض 11417
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>ت: 4616 417-11 966</td>
                                        </tr>
                                        <tr>
                                            <td>:البريد الإلكتروني</td>
                                        </tr>
                                        <tr>
                                            <td>info@bnansa.com</td>
                                        </tr>
                                        <tr>
                                            <td>س.ت 1010497759 عضوية رقم 390128</td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                        </table>
                    </div>

                </t>
            </t>
        </template>

    </data>
</odoo>
